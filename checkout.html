<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Premium Softwares</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="assets/style.css" />
  </head>
  <body>
    <header class="sticky-lg-top">
      <nav class="navbar navbar-expand-lg navbar-light b3 fixedtop">
        <div class="container bg-">
          <a href="/" class="navbar-brand">
            <img
              class="navbar-brand"
              src="Screenshot_2024-05-09_215822-removebg-preview (1).png"
              style="height: 70px"
            />
            <!-- Premium-software -->
          </a>
          <button
            class="navbar-toggler border-info"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <!-- <span class="navbar-toggler-icon"></span> -->
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto">
              <li class="nav-item py-1 px-2">
                <a class="nav-link" aria-current="page" href="/">Home</a>
              </li>
              <li class="nav-item py-1 px-2">
                <a class="nav-link" href="#">About</a>
              </li>

              <li
                class="nav-item border px-lg-2 py-1 px-2 border-2 border-primary"
                style="width: 50px; text-align: center"
              >
                <a class="nav-link position-relative" href="#">
                  <!-- <div class="border border-2 border-primary px-2 py-1"> -->
                  <span
                    class="position-absolute cbtn top-0 start-100 translate-middle badge rounded-circle bg-primary"
                  >
                    0
                    <!-- <span class="visually-hidden">unread messages</span> -->
                  </span>
                  <i class="fa-solid fa-cart-plus text-primary"></i>
                  <script>
                    const cbtn = document.querySelector(".cbtn");
                    let v = localStorage.getItem("cart");
                    v = JSON.parse(v);
                    console.log(v);
                    cbtn.textContent = v.length;
                  </script>
                  <!-- </div> -->
                </a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <section class="pt-5 order">
      <!-- <div class="container p-5">
        <div class="row">
          <div class="col-md-6">
            <div class="img" style="border: 1px solid">
              <img src="download.jpeg" alt="Product Image" class="" />
            </div>
          </div>
          <div class="col-md-6">
            <h2>Product Name</h2>
            <p class="py-2">
              Description: Lorem ipsum dolor sit amet, consectetur adipiscing
              elit.
            </p>
            <h3>Price: $99.99</h3>
            <h6 class="text-secondary my-4"><b> Choose validity </b></h6>
            <div class="py-3">
              <button
                class="border bg-white border-1 px-4 py-2 d-inline-block mb-2 m1"
              >
                1 month
              </button>
              <button class="border border-1 px-4 py-2 d-inline-block mb-2 m2">
                6 month
              </button>
              <button class="border border-1 px-4 py-2 d-inline-block mb-2 m3">
                12 month
              </button>
            </div>

            <br />
            <hr />
            <h5 class="my-4 fs-2 bp"><b> $600 </b></h5>
            <div class="d-flex align-items-center border border-0 border-top-1">
              <span>
                <button
                  class="border border-1 m-0 d-inline-block px-3 py-1 dec"
                >
                  -
                </button>
                <button
                  class="border border-1 m-0 d-inline-block px-3 py-1 tot"
                >
                  1
                </button>
                <button
                  class="border border-1 m-0 d-inline-block px-3 py-1 inc"
                >
                  +
                </button>
              </span>
              <a href="#" class="btn btn-secondary px-4 py-2 mx-2"
                >Add to Cart</a
              >
            </div>

            <ul class="list-unstyled mt-4">
              <li>
                <i class="fa-solid fa-star text-primary mx-2"></i>6 Devices
              </li>
              <li>
                <i class="fa-solid fa-star text-primary mx-2 mt-3"></i>6 Devices
              </li>
              <li>
                <i class="fa-solid fa-star text-primary mx-2 mt-3"></i>6 Devices
              </li>
              <li>
                <i class="fa-solid fa-star text-primary mx-2 mt-3"></i>6 Devices
              </li>
            </ul>
            <h5 class="text-secondary mx-2 mt-5">
              <b> Product policy </b>
            </h5>
            <ul class="list-unstyled text-secondary mt-2">
              <li>
                <i class="fa-solid fa-star text-secondary mx-2 mt-3"></i>100%
                Genuine
              </li>
              <li>
                <i class="fa-solid fa-star text-secondary mx-2 mt-3"></i>100%
                Genuine
              </li>
              <li>
                <i class="fa-solid fa-star text-secondary mx-2 mt-3"></i>100%
                Genuine
              </li>
              <li>
                <i class="fa-solid fa-star text-secondary mx-2 mt-3"></i>100%
                Genuine
              </li>
            </ul>
          </div>
        </div>
      </div> -->
    </section>

    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"
    ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <script type="module">
      window.onscroll = function () {
        myFunction();
      };

      function myFunction() {
        if (
          document.body.scrollTop > 50 ||
          document.documentElement.scrollTop > 50
        ) {
          document.querySelector(".navbar").classList.add("bg-black");

          const navLinks = document.querySelectorAll(".nav-link");
          navLinks.forEach((link) => {
            link.classList.add("text-white");
          });
        } else {
          document.querySelector(".navbar").classList.remove("bg-black");
          const navLinks = document.querySelectorAll(".nav-link");
          navLinks.forEach((link) => {
            link.classList.remove("text-white");
          });
        }
      }
    </script>

    <script type="module">
      const id = new URLSearchParams(window.location.search).get("id");
      import data from "./data.js";
      const pt = data.find((data) => {
        if (data.id == id) {
          return id;
        }
      });
      if (!pt) {
        window.location.href = "/";
      }
      console.log(pt);

      const cardData = `
      <div class="container p-5">
        <div class="row">
          <div class="col-md-6">
            <div class="img" style="border: 1px solid">
              <img src='${pt.img}' class="" />
            </div>
          </div>
          <div class="col-md-6">
            <h2>${pt.name}</h2>
            <p class="py-2">
              
            </p>
            <h3>${pt.priceRange}</h3>
            <h6 class="text-secondary my-4"><b> Choose validity </b></h6>
            <div class="py-3">
              <button
                class="border bg-white border-1 px-4 py-2 d-inline-block mb-2 m1"
              >
                1 month
              </button>
              <button class="border border-1 px-4 py-2 d-inline-block mb-2 m2">
                6 month
              </button>
              <button class="border border-1 px-4 py-2 d-inline-block mb-2 m3">
                12 month
              </button>
            </div>

            <br />
            <hr />
            <h5 class="my-4 fs-2 bp"><b>  </b></h5>
            <div class="d-flex align-items-center border border-0 border-top-1">
              <span>
                <button
                  class="border border-1 m-0 d-inline-block px-3 py-1 dec"
                >
                  -
                </button>
                <button
                  class="border border-1 m-0 d-inline-block px-3 py-1 tot"
                >
                  1
                </button>
                <button
                  class="border border-1 m-0 d-inline-block px-3 py-1 inc"
                >
                  +
                </button>
              </span>
              <a href="#" class="btn btn-secondary px-4 py-2 mx-2 acart"
                >Add to Cart</a
              >
            </div>

            <ul class="list-unstyled mt-4">

             ${pt.description
               .map((d, i) => {
                 console.log(d);
                 return `<li><i class="fa-solid fa-check text-primary mx-2 mt-4"></i>${d}</li>`;
               })
               .filter((d) => d)
               .join("")}
            </ul>
            <h5 class="text-secondary mx-2 mt-5">
              <b> Product policy </b>
            </h5>
            <ul class="list-unstyled text-secondary mt-2">
              <li>
                <i class="fa-solid fa-star text-secondary mx-2 mt-3"></i>100%
                Genuine
              </li>
              <li>
                <i class="fa-solid fa-star text-secondary mx-2 mt-3"></i>100%
                Genuine
              </li>
              <li>
                <i class="fa-solid fa-star text-secondary mx-2 mt-3"></i>100%
                Genuine
              </li>
              <li>
                <i class="fa-solid fa-star text-secondary mx-2 mt-3"></i>100%
                Genuine
              </li>
            </ul>
          </div>
        </div>
      </div>
      `;

      // document.getElementsByClassName("order").innerHTML = cardData;
      const order = document.querySelector(".order");
      order.insertAdjacentHTML("beforeend", cardData);

      // $(document).ready(function () {
      // });
      console.log(pt);
      $(document).ready(function () {
        $(".bp").hide();
        $(".m1").click(function () {
          $(".bp").show().text(pt.price.month);
        });
        $(".m2").click(function () {
          $(".bp").show().text(pt.price.half);
        });
        $(".m3").click(function () {
          $(".bp").show().text(pt.price.year);
        });
        //
        // inc and dec
        let i = 1;
        $(".tot").text(i);
        $(".inc").on("click", function () {
          i++;
          $(".tot").text(i);
        });

        $(".dec").on("click", function () {
          if (i > 1) {
            i--;
            $(".tot").text(i);
          }
        });
        //
      });

      //

      //

      // Add to Cart
      // console.log($(".bp").val);
      const bp = document.getElementsByClassName("bp");
      console.log(bp);

      function addToCart() {
        // Assuming pt contains the product data
        const product = {
          id: pt.id,
          name: pt.name,
          img: pt.img,
          price: $(".bp")[0].innerText,
          quantity: parseInt($(".tot").text()), // Assuming quantity is taken from the displayed total
        };

        // Simulating adding the product to the cart (you can replace this with actual logic)
        // For demonstration, storing the product in localStorage
        let cart = localStorage.getItem("cart");
        cart = cart ? JSON.parse(cart) : [];
        cart.push(product);
        localStorage.setItem("cart", JSON.stringify(cart));
      }

      $(document).ready(function () {
        $(".acart").on("click", function (event) {
          event.preventDefault();

          // Call function to add product to cart
          if ($(".bp").text().trim() !== "") {
            addToCart();

            window.location.href = "cart.html"; // Replace "cart.html" with the actual URL of your cart page
          } else {
            alert("Please choose a validity before adding to cart.");
          }

          // window.location.href = "cart.html"; // Replace "cart.html" with the actual URL of your cart page
        });
      });

      //
    </script>

    <script></script>
  </body>
</html>
